# portAdmin简介
项目基于Go开发。客户端向服务端申请端口访问权限，申请通过后服务端为此IP放行特定端口，直至客户端断开连接  
如果服务端搭建搭建了 vpn 服务，随后客户端将尝试连接到vpn  

## 适用场景
服务端需面向特定人群开放功能，为减少攻击面及保护隐私采用防火墙白名单方案开放服务  

## 设计理念
避免服务器大范围开放防火墙白名单、出差变更IP后不在白名单无法访问的弊端

## vpn协议选择
经过多年使用，总结出以下经验：
* PPTP速度快但安全性低，在移动运营商网络中无法登录，不采用
* l2tp/ipsec兼顾速度及安全性，但是服务端口采用UDP协议，部分公司防火墙会屏蔽该端口，导致无法连接，不采用
* ikev2安全性极高，但是需要安装证书以及其端口经常会被GFW屏蔽，不采用
* SSTP采用ssl加密，端口流量走443，不易被屏蔽，使用速度良好，推荐使用


## 使用效果
程序编译成功后启动./lnovpn程序，自动创建SSTP证书、C/S验证码、用户核心信息、服务端程序、序号0-10客户端程序  
执行服务端程序后将客户端程序下发，运行客户端向服务端请求允许当前IP访问特定端口

## 安全性
* 服务端采用非周知TCP端口  
* 客户端与服务端使用随机生成的消息来进行验证，验证通过才会核实帐号和密码，否则终止连接且不返回任何消息  
* 核实帐号和密码是否正确，正确的话会检测当前帐号状态，分别是：验证成功、有效期过期、帐号或密码错误  
* 验证通过后(保持当前程序运行)，放行客户端IP允许访问服务器指定端口
* 终止程序后客户端向服务端发送断开连接指令，服务端清除当前客户端允许访问的临时策略

# 使用教程
## 客户端环境选择
此功能面向windows用户，linux用户建议通过network-manager直连vpn(方便又快捷)  
后续会开发面向linux系统使用的客户端

## 服务端环境安装
openssl、go(1.21.6版本以上)、gcc、make
### debian系统安装教程
```bash
# 安装软件包
sudo apt install gcc make openssl wget
```
### centos系统安装教程
```bash
# 安装软件包
sudo yum install gcc make openssl wget
```
## 脚本从Go官网下载安装包并安装Go环境
```bash
./tool/envInstall
```

## 恢复初始化环境(删除生成的文件)
```bash
./tool/init.sh
```
## 后台运行程序
```bash
# 启动服务端
sudo nohub ./server &
```

# 关于自己搭建vpn的提示
最古老的方法是在centos7.6搭建l2tp或pptp，成功率虽然高但是不安全，因为centos7将于2024年6月30日停止维护！  
系统推荐使用debian12，网上找的vpn安装脚本要注意辨别是否有后门(10个中7个脚本有问题)。  
最省心的方式是通过softether软件搭建SSTP vpn，然后部署本软件进行安全访问连接

# softether使用建议
启用虚拟Hub的SecureNAT功能  

    SecureNatEnable yes
启用SSTP功能

    SstpEnable  

softether支持中文，网上教程也挺多，如果你想方便一些直接使用可以联系我
# 付费搭建加速器环境(适用于个人及团体)
邮箱联系likeniorg@gmail.com